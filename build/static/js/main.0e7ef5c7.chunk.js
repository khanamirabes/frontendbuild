(this["webpackJsonpflow-chart-app"]=this["webpackJsonpflow-chart-app"]||[]).push([[0],{39:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),i=n(6),a=n.n(i),s=(n(39),n(2)),r=n(3),l=n(12),d=n.n(l),u=n(9),h=n(66),j=n(67),b=n(1);var p=[{id:"-1",type:"input",data:{label:Object(b.jsx)("div",{onClick:function(){return alert("You are Welcome to scene 1")},children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("img",{className:"card-img-top",src:"https://picsum.photos/200/300/?blur",height:"50px",alt:"Card-image-cap"}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("p",{className:"card-text",children:"Starting Scene"})})]})})},position:{x:0,y:0}},{id:"e1-2",source:"1",target:"2"}],g={buttonedge:function(e){var t=e.id,n=e.sourceX,o=e.sourceY,i=e.targetX,a=e.targetY,s=e.sourcePosition,l=e.targetPosition,d=e.style,p=void 0===d?{}:d,g=(e.data,e.arrowHeadType),f=e.markerEndId,O=Object(u.f)({sourceX:n,sourceY:o,sourcePosition:s,targetX:i,targetY:a,targetPosition:l}),m=Object(u.h)(g,f),x=Object(u.g)({sourceX:n,sourceY:o,targetX:i,targetY:a}),w=Object(r.a)(x,2),v=w[0],y=w[1],S=Object(c.useState)(!1),N=Object(r.a)(S,2),C=N[0],k=N[1],T=function(){return k(!1)},E=function(e,t){e.stopPropagation(),k(!0)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("path",{id:t,style:p,className:"react-flow__edge-path",d:O,markerEnd:m}),Object(b.jsx)("foreignObject",{width:40,height:40,x:v-20,y:y-20,className:"edgebutton-foreignobject",requiredExtensions:"http://www.w3.org/1999/xhtml",children:Object(b.jsx)("body",{children:Object(b.jsx)("button",{className:"edgebutton",onClick:function(e){return E(e)},children:"x"})})}),Object(b.jsxs)(h.a,{show:C,onHide:T,children:[Object(b.jsx)(h.a.Header,{closeButton:!0,children:Object(b.jsx)(h.a.Title,{children:"Scene Flow Rule"})}),Object(b.jsx)("textarea",{id:"w3review",name:"w3review",rows:"4",cols:"50",placeholder:"Enter scene rule script",style:{margin:"10px"}}),Object(b.jsxs)(h.a.Footer,{children:[Object(b.jsx)(j.a,{variant:"secondary",onClick:T,children:"Close"}),Object(b.jsx)(j.a,{variant:"primary",onClick:T,children:"Save"})]})]})]})}},f=function(e){console.log("flow loaded:",e),e.fitView()},O=function(){var e=Object(c.useState)(p),t=Object(r.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)(""),a=Object(r.a)(i,2),l=a[0],h=a[1],j=Object(c.useState)(""),O=Object(r.a)(j,2),m=O[0],x=O[1],w=Object(c.useState)(""),v=Object(r.a)(w,2),y=v[0],S=v[1],N=Object(c.useState)(""),C=Object(r.a)(N,2),k=C[0],T=C[1],E=function(){o(p),d.a.get("http://3.108.221.163:3001/fetchVedioScenes/1").then((function(e){console.log("this is a fetch scene",e);var t=[];e.data.forEach((function(e){var n=Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("img",{className:"card-img-top",src:e.thumbnail,height:"50px",alt:"Thubnail Image"}),Object(b.jsxs)("div",{className:"card-body",onClick:function(){return alert("You are Welcome to scene : ".concat(e.name))},children:[Object(b.jsx)("p",{className:"card-text",children:e.name}),Object(b.jsx)("p",{className:"card-text",children:e.thumbnail}),Object(b.jsx)("p",{className:"card-text",children:e.vedio_url})]})]})});t.push({id:e.id+"",data:{label:n},position:JSON.parse(e.postion)})})),console.log("this is wat i want see on console",t),o((function(e){return e.concat.apply(e,t)})),console.log("this is a array",t)})).catch((function(e){console.log("this is err in vedioscene",e)})),d.a.get("http://3.108.221.163:3001/fetchVedioScenesflow/1").then((function(e){console.log("this is a fetch scene",e);var t=[];e.data.forEach((function(e){delete e.id,e.id="reactflow__edge--".concat(e.source+e.sourceHandle+"-"+e.target+e.targetHandle),e.type="buttonedge",t.push(e)})),console.log("this is a fetchVedioScenesflow",t),o((function(e){return e.concat.apply(e,t)}))})).catch((function(e){console.log("this is err in vediosceneflow",e)}))};Object(c.useEffect)((function(){E()}),[1]);return console.log("this is an element, ",n),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.e,{elements:n,style:{width:"100%",height:"90vh"},onConnect:function(e){o((function(t){return Object(u.d)(Object(s.a)(Object(s.a)({},e),{},{type:"buttonedge"}),t)})),console.log("This is param1",e),d.a.post("http://3.108.221.163:3001/insert/sceneflow",e).then((function(e){console.log("THIS is add sceneFlow",e),E()})).catch((function(e){console.log("this is err in sceneFlow",e)}))},onElementsRemove:function(e){o((function(t){return Object(u.i)(e,t)}))},connectionLineStyle:{stroke:"#add",strokeWidth:2},connectionLineType:"bezier",snapToGrid:!0,edgeTypes:g,snapGrid:[16,16],onEdgeUpdate:function(e,t){return o((function(n){return Object(u.j)(e,t,n)}))},onLoad:f,onNodeDragStop:function(e,t){console.log("node",t);var n={id:t.id,position:JSON.stringify(t.position)};console.log("temp",n),d.a.put("http://3.108.221.163:3001/videoscenes/position",n).then((function(e){console.log("THIS is update nodePositionUpdate",e)})).catch((function(e){console.log("this is err in nodePositionUpdate",e)}))},children:[Object(b.jsx)(u.a,{color:"#888",gap:16}),Object(b.jsx)(u.c,{nodeColor:function(e){switch(e.type){case"input":return"red";case"default":return"#00ff00";case"output":return"rgb(0,0,255)";default:return"#eee"}},nodeStrokeWidth:3}),Object(b.jsx)(u.b,{})]},"edge-with-button"),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"text",placeholder:"name",onChange:function(e){return h(e.target.value)},name:"title"}),Object(b.jsx)("input",{type:"text",placeholder:"thumbnail url",onChange:function(e){return x(e.target.value)},name:"thumbnail"}),Object(b.jsx)("input",{type:"text",placeholder:"video url",onChange:function(e){return S(e.target.value)},name:"url"}),Object(b.jsx)("button",{type:"button",onClick:function(){""!=l&&0!=l.trim().length?""!=m&&0!=m.trim().length?""!=y&&0!=y.trim().length?d.a.post("http://3.108.221.163:3001/insert",{name:l,thumbnail:m,vedio_url:y,position:JSON.stringify({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight})}).then((function(e){console.log("THIS is add scene",e),E()})).catch((function(e){console.log("this is err in addscene",e)})):T("vedio url can not be empty;"):T("thumbnail url can not be empty;"):T("name can not be empty;")},children:"Add Scene"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"error",children:k})]})]})},m=(n(62),function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(O,{})})}),x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),i(e),a(e)}))};a.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(m,{})}),document.getElementById("root")),x()}},[[63,1,2]]]);
//# sourceMappingURL=main.0e7ef5c7.chunk.js.map